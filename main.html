<!DOCTYPE html>
<html lang="en" >
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>The Grand Project â€” Realistic Water Ripple Background + Dark/Light Toggle</title>
  <style>
    /* Reset and no scroll */
    *, *::before, *::after {
      box-sizing: border-box;
    }
    html, body {
      margin: 0; padding: 0;
      height: 100%;
      width: 100%;
      font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
      color: var(--text-color);
      background: var(--bg-gradient);
      overflow: hidden; /* No scroll */
      user-select: none;
      transition: background 0.8s ease, color 0.8s ease;
      -webkit-font-smoothing: antialiased;
      -moz-osx-font-smoothing: grayscale;
      position: relative;
      height: 100vh;
      width: 100vw;
    }

    /* Theme variables */
    :root {
      --bg-gradient: 
        radial-gradient(circle at 20% 30%, rgba(138,120,255,0.15) 0%, transparent 60%),
        radial-gradient(circle at 80% 70%, rgba(138,120,255,0.10) 0%, transparent 50%),
        linear-gradient(135deg, #1f233d 0%, #121629 100%);
      --text-color: #e0e0ff;
      --container-bg: rgba(255 255 255 / 0.1);
      --container-border: rgba(138 120 255 / 0.3);
      --button-bg: linear-gradient(135deg, #8a78ff, #a293ff);
      --button-bg-hover: linear-gradient(135deg, #a293ff, #8a78ff);
      --button-shadow: rgba(138, 120, 255, 0.5);
      --button-shadow-hover: rgba(138, 120, 255, 0.8);
      --ripple-color: rgba(255 255 255 / 0.3);
      --focus-outline: #a293ffcc;
      --shape1-color: #8a78ff;
      --shape2-color: #a293ff;
    }

    /* Light mode overrides */
    body.light-theme {
      --bg-gradient:
        radial-gradient(circle at 30% 40%, rgba(168, 156, 255, 0.25) 0%, transparent 70%),
        radial-gradient(circle at 75% 75%, rgba(168, 156, 255, 0.15) 0%, transparent 60%),
        linear-gradient(135deg, #f8f9fb 0%, #dde1e7 100%);
      --text-color: #242424;
      --container-bg: rgba(255 255 255 / 0.85);
      --container-border: rgba(138 120 255 / 0.4);
      --button-bg: linear-gradient(135deg, #7464ff, #8f7aff);
      --button-bg-hover: linear-gradient(135deg, #8f7aff, #7464ff);
      --button-shadow: rgba(115, 99, 255, 0.4);
      --button-shadow-hover: rgba(115, 99, 255, 0.7);
      --ripple-color: rgba(0 0 0 / 0.12);
      --focus-outline: #7464ffcc;
      --shape1-color: #7a7cff;
      --shape2-color: #9a9eff;
    }

    /* Background floating shapes */
    body::before, body::after {
      content: "";
      position: fixed;
      border-radius: 50%;
      opacity: 0.15;
      pointer-events: none;
      animation: float 30s ease-in-out infinite alternate;
      transition: background-color 0.8s ease;
      z-index: 1;
    }
    body::before {
      width: 450px;
      height: 450px;
      top: -100px;
      left: -120px;
      background: var(--shape1-color);
      animation-delay: 0s;
    }
    body::after {
      width: 300px;
      height: 300px;
      bottom: -80px;
      right: -100px;
      background: var(--shape2-color);
      animation-delay: 15s;
    }
    @keyframes float {
      0% { transform: translateY(0) translateX(0) scale(1); }
      50% { transform: translateY(30px) translateX(20px) scale(1.05); }
      100% { transform: translateY(0) translateX(0) scale(1); }
    }

    /* Ripple canvas fixed behind */
    #rippleCanvas {
      position: fixed;
      top: 0; left: 0;
      width: 100vw;
      height: 100vh;
      pointer-events: none; /* Pass through mouse */
      z-index: 0;
      opacity: 0.25;
      transition: opacity 0.8s ease;
    }
    body.light-theme #rippleCanvas {
      opacity: 0.15;
    }

    main.container {
      background: var(--container-bg);
      backdrop-filter: saturate(180%) blur(18px);
      -webkit-backdrop-filter: saturate(180%) blur(18px);
      border-radius: 24px;
      max-width: 720px;
      width: 90vw;
      padding: 48px 40px 56px;
      box-shadow:
        0 8px 24px var(--button-shadow),
        inset 0 0 18px rgba(255 255 255 / 0.15);
      border: 1.5px solid var(--container-border);
      text-align: center;
      user-select: text;
      animation: fadeUp 1.1s cubic-bezier(0.22, 1, 0.36, 1) forwards;
      opacity: 0;
      transform: translateY(15px);
      transition: background 0.8s ease, border-color 0.8s ease, box-shadow 0.8s ease;
      position: relative;
      z-index: 10;
    }

    h1 {
      font-weight: 900;
      font-size: clamp(2.4rem, 4vw, 3rem);
      letter-spacing: 2px;
      margin-bottom: 40px;
      color: var(--button-bg-hover);
      text-shadow: 0 0 14px var(--button-bg-hover);
      transition: color 0.8s ease, text-shadow 0.8s ease;
    }

    h2 {
      font-weight: 400;
      color: var(--text-color);
      opacity: 0.7;
      margin-top: 48px;
      font-style: italic;
      font-size: 1.1rem;
      letter-spacing: 1.3px;
      transition: color 0.8s ease;
    }

    a.link-button, button.link-button {
      display: inline-block;
      margin: 10px 14px;
      padding: 14px 48px;
      font-weight: 700;
      font-size: 1.25rem;
      color: var(--text-color);
      background: var(--button-bg);
      border: none;
      border-radius: 32px;
      box-shadow:
        0 6px 20px var(--button-shadow);
      cursor: pointer;
      user-select: none;
      transition:
        transform 0.3s cubic-bezier(0.22, 1, 0.36, 1),
        box-shadow 0.3s cubic-bezier(0.22, 1, 0.36, 1),
        background 0.3s ease,
        color 0.3s ease;
      position: relative;
      overflow: hidden;
      text-decoration: none;
    }
    a.link-button:focus-visible,
    button.link-button:focus-visible {
      outline: 3px solid var(--focus-outline);
      outline-offset: 4px;
    }

    a.link-button:hover, button.link-button:hover {
      background: var(--button-bg-hover);
      box-shadow:
        0 12px 36px var(--button-shadow-hover);
      transform: translateY(-6px) scale(1.08);
      color: #fff;
    }
    a.link-button:active, button.link-button:active {
      transform: translateY(-3px) scale(0.97);
      box-shadow:
        0 7px 26px var(--button-shadow-hover);
    }

    /* Ripple effect on click */
    button.link-button::after {
      content: "";
      position: absolute;
      border-radius: 50%;
      width: 100px; height: 100px;
      top: 50%; left: 50%;
      pointer-events: none;
      background: var(--ripple-color);
      transform: translate(-50%, -50%) scale(0);
      opacity: 0;
      transition: transform 0.6s ease, opacity 0.6s ease;
    }
    button.link-button:active::after {
      transform: translate(-50%, -50%) scale(1);
      opacity: 1;
      transition: transform 0s, opacity 0.3s ease 0.2s;
    }

    @keyframes fadeUp {
      to {
        opacity: 1;
        transform: translateY(0);
      }
    }

    /* Responsive */
    @media (max-width: 520px) {
      main.container {
        padding: 36px 28px 44px;
        width: 95vw;
      }
      h1 {
        font-size: 2.2rem;
        margin-bottom: 32px;
      }
      a.link-button, button.link-button {
        padding: 12px 36px;
        font-size: 1.1rem;
        margin: 8px 12px;
      }
    }

    /* Dark/light toggle button container */
    #themeToggle {
      position: fixed;
      top: 20px;
      right: 20px;
      width: 56px;
      height: 56px;
      background: transparent;
      border: none;
      cursor: pointer;
      border-radius: 50%;
      box-shadow:
        0 4px 10px rgba(0,0,0,0.3);
      transition: background-color 0.5s ease, box-shadow 0.3s ease;
      display: flex;
      align-items: center;
      justify-content: center;
      z-index: 10000;
      user-select: none;
      outline-offset: 2px;
    }
    #themeToggle:hover {
      box-shadow:
        0 6px 16px rgba(0,0,0,0.45);
      background-color: rgba(255 255 255 / 0.1);
    }
    #themeToggle:focus-visible {
      outline: 3px solid var(--focus-outline);
    }

    /* Sun & moon SVG styling */
    #themeToggle svg {
      width: 28px;
      height: 28px;
      fill: var(--button-bg-hover);
      transition: fill 0.6s ease;
    }
    body.light-theme #themeToggle svg {
      fill: var(--button-bg-hover);
      filter: drop-shadow(0 0 1px rgba(138,120,255,0.8));
    }

  </style>
</head>
<body>

  <canvas id="rippleCanvas" aria-hidden="true"></canvas>

  <button id="themeToggle" aria-label="Toggle light and dark mode" aria-pressed="false" role="switch" title="Toggle light/dark mode">
    <svg id="themeIcon" viewBox="0 0 24 24" aria-hidden="true" focusable="false" xmlns="http://www.w3.org/2000/svg" >
      <!-- Sun by default -->
      <circle cx="12" cy="12" r="5" />
      <g stroke="currentColor" stroke-width="2" stroke-linecap="round">
        <line x1="12" y1="1" x2="12" y2="3"/>
        <line x1="12" y1="21" x2="12" y2="23"/>
        <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/>
        <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/>
        <line x1="1" y1="12" x2="3" y2="12"/>
        <line x1="21" y1="12" x2="23" y2="12"/>
        <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/>
        <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/>
      </g>
    </svg>
  </button>

  <main class="container" role="main" aria-label="The Grand Project main content">
    <h1>Welcome to The Grand Project</h1>
    <nav aria-label="Primary links">
      <a href="https://discord.com/app" class="link-button" target="_blank" rel="noopener noreferrer" aria-label="Open Discord in new tab">Discord</a>
      <a href="https://open.spotify.com/" class="link-button" target="_blank" rel="noopener noreferrer" aria-label="Open Spotify in new tab">Spotify</a>
      <a href="https://play.geforcenow.com/mall/" class="link-button" target="_blank" rel="noopener noreferrer" aria-label="Open Geforce Now in new tab">Geforce Now</a>
      <a href="https://chatgpt.com/" class="link-button" target="_blank" rel="noopener noreferrer" aria-label="Open ChatGPT in new tab">ChatGPT</a>
      <button class="link-button" onclick="openIframe()" aria-label="Open iframe prompt">Open Iframe</button>
    </nav>
    <h2>Bypass: elephant</h2>
  </main>

  <script>
    // Fade-in main container on DOM ready
    document.addEventListener("DOMContentLoaded", () => {
      const container = document.querySelector("main.container");
      container.style.opacity = "1";
      container.style.transform = "translateY(0)";
    });

    // Prevent iframe embedding (clickjacking)
    if (window.top !== window.self) {
      window.top.location = window.self.location;
    }

    // Block direct URL access unless sessionStorage.auth == "true"
    if (sessionStorage.getItem("auth") !== "true") {
      window.location.href = "badpass.html";
    } else {
      sessionStorage.removeItem("auth");
    }

    // Notification logic
    function showNotification() {
      if (Notification.permission === "granted") {
        const notification = new Notification("The Grand Project", {
          body: "Do you want to go to the website?",
          icon: "https://upload.wikimedia.org/wikipedia/commons/a/ab/Android_O_Preview_Logo.png"
        });
        notification.onclick = () => {
          window.focus();
          window.location.href = "/";
          notification.close();
        };
      }
    }

    window.addEventListener("load", () => {
      if ("Notification" in window) {
        if (Notification.permission === "default") {
          Notification.requestPermission().then(permission => {
            if (permission === "granted") {
              showNotification();
              setInterval(showNotification, 30 * 60 * 1000);
            }
          });
        } else if (Notification.permission === "granted") {
          showNotification();
          setInterval(showNotification, 30 * 60 * 1000);
        }
      }
    });

    // Iframe open prompt helper
    function openIframe() {
      const url = prompt("Enter URL:");
      if (url) {
        const win = window.open("", "_blank");
        if (win) {
          win.document.write(`
            <html><body style="margin:0">
              <iframe src="${url}" style="width:100vw;height:100vh;border:none"></iframe>
            </body></html>
          `);
        } else {
          alert("Popup blocked. Please allow popups for this site.");
        }
      }
    }

    // Dark/light mode toggle logic with persistence
    const themeToggleBtn = document.getElementById('themeToggle');
    const bodyEl = document.body;
    const themeIcon = document.getElementById('themeIcon');

    // Set icon paths for sun/moon shapes
    // We'll swap the SVG content for toggle with smooth fade

    const sunSVG = `
      <circle cx="12" cy="12" r="5" />
      <g stroke="currentColor" stroke-width="2" stroke-linecap="round">
        <line x1="12" y1="1" x2="12" y2="3"/>
        <line x1="12" y1="21" x2="12" y2="23"/>
        <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/>
        <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/>
        <line x1="1" y1="12" x2="3" y2="12"/>
        <line x1="21" y1="12" x2="23" y2="12"/>
        <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/>
        <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/>
      </g>
    `;

    const moonSVG = `
      <path fill="currentColor" d="M21 12.79A9 9 0 0112.21 3a7 7 0 1010.79 9.79z"/>
    `;

    // Load stored theme or default to dark
    const savedTheme = localStorage.getItem('theme');
    if (savedTheme === 'light') {
      bodyEl.classList.add('light-theme');
      themeToggleBtn.setAttribute('aria-pressed', 'true');
      themeIcon.innerHTML = moonSVG;
    } else {
      bodyEl.classList.remove('light-theme');
      themeToggleBtn.setAttribute('aria-pressed', 'false');
      themeIcon.innerHTML = sunSVG;
    }

    // Toggle function
    themeToggleBtn.addEventListener('click', () => {
      if (bodyEl.classList.contains('light-theme')) {
        // Switch to dark
        bodyEl.classList.remove('light-theme');
        localStorage.setItem('theme', 'dark');
        themeToggleBtn.setAttribute('aria-pressed', 'false');
        themeIcon.innerHTML = sunSVG;
      } else {
        // Switch to light
        bodyEl.classList.add('light-theme');
        localStorage.setItem('theme', 'light');
        themeToggleBtn.setAttribute('aria-pressed', 'true');
        themeIcon.innerHTML = moonSVG;
      }
    });

    // --- Realistic water ripple effect ---

    const canvas = document.getElementById('rippleCanvas');
    const ctx = canvas.getContext('2d');

    let width, height;
    let ripples = [];

    function resize() {
      width = window.innerWidth;
      height = window.innerHeight;
      canvas.width = width * devicePixelRatio;
      canvas.height = height * devicePixelRatio;
      canvas.style.width = width + "px";
      canvas.style.height = height + "px";
      ctx.setTransform(1,0,0,1,0,0);
      ctx.scale(devicePixelRatio, devicePixelRatio);
    }
    resize();
    window.addEventListener('resize', resize);

    class Ripple {
      constructor(x, y) {
        this.x = x;
        this.y = y;
        this.radius = 0;
        this.maxRadius = 120 + Math.random() * 60;
        this.alpha = 0.35 + Math.random() * 0.15;
        this.lineWidth = 3;
        this.speed = 1 + Math.random() * 0.7;
      }
      update() {
        this.radius += this.speed;
        this.alpha -= 0.003;
        if (this.alpha < 0) this.alpha = 0;
      }
      draw(ctx) {
        // Create soft gradient ring ripple
        const gradient = ctx.createRadialGradient(this.x, this.y, this.radius * 0.85, this.x, this.y, this.radius);
        gradient.addColorStop(0, `rgba(255, 255, 255, 0)`);
        gradient.addColorStop(0.85, `rgba(255, 255, 255, ${this.alpha * 0.25})`);
        gradient.addColorStop(1, `rgba(255, 255, 255, 0)`);

        ctx.beginPath();
        ctx.strokeStyle = gradient;
        ctx.lineWidth = this.lineWidth;
        ctx.shadowColor = `rgba(255,255,255,${this.alpha * 0.3})`;
        ctx.shadowBlur = 8;
        ctx.arc(this.x, this.y, this.radius, 0, Math.PI * 2);
        ctx.stroke();
      }
      isDead() {
        return this.alpha <= 0;
      }
    }

    // Smaller droplets for extra realism
    class Drop {
      constructor(x, y) {
        this.x = x + (Math.random() * 20 - 10);
        this.y = y + (Math.random() * 20 - 10);
        this.radius = 1 + Math.random() * 1.5;
        this.alpha = 0.5 + Math.random() * 0.3;
        this.speed = 0.05 + Math.random() * 0.05;
        this.dy = -this.speed * 0.8;
      }
      update() {
        this.y += this.dy;
        this.alpha -= 0.008;
        if (this.alpha < 0) this.alpha = 0;
      }
      draw(ctx) {
        ctx.beginPath();
        ctx.fillStyle = `rgba(255, 255, 255, ${this.alpha})`;
        ctx.shadowColor = `rgba(255,255,255,${this.alpha * 0.8})`;
        ctx.shadowBlur = 4;
        ctx.arc(this.x, this.y, this.radius, 0, Math.PI * 2);
        ctx.fill();
      }
      isDead() {
        return this.alpha <= 0;
      }
    }

    window.addEventListener('mousemove', (e) => {
      ripples.push(new Ripple(e.clientX, e.clientY));
      // Add a few drops per move for water splatter effect
      for (let i = 0; i < 3; i++) {
        ripples.push(new Drop(e.clientX, e.clientY));
      }
    });

    function animate() {
      ctx.clearRect(0, 0, width, height);

      for (let i = ripples.length - 1; i >= 0; i--) {
        ripples[i].update();
        ripples[i].draw(ctx);
        if (ripples[i].isDead()) {
          ripples.splice(i, 1);
        }
      }

      requestAnimationFrame(animate);
    }
    animate();

  </script>
</body>
</html>
